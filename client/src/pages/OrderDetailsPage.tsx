import { useEffect,useState } from 'react';import { useParams } from 'react-router-dom';import { http } from '../api/http';
export default function OrderDetailsPage(){const {id}=useParams(); const [o,s]=useState<any>(null); const load=()=>http.get(`/orders/${id}`).then(r=>s(r.data.data)); useEffect(load,[id]); if(!o) return <div>Loading...</div>; return <div className='card p-3'><h4>Order {o.trackingNo}</h4><div>Status: {o.status}</div><button className='btn btn-sm btn-secondary my-2' onClick={async()=>{await http.post(`/orders/${id}/status`,{status:'Ready Dispatch'}); load();}}>Mark Ready Dispatch</button><h6>Timeline</h6><ul>{o.statusHistory.map((x:any,idx:number)=><li key={idx}>{x.status} - {new Date(x.at).toLocaleString()}</li>)}</ul></div>}
