import { useEffect,useState } from 'react';import { http } from '../api/http';
export default function AccountingPage(){const [d,s]=useState<any>({accounts:[],entries:[],summary:{}}); const load=()=>http.get('/accounting').then(r=>s(r.data.data)); useEffect(load,[]); return <div className='row g-3'><div className='col-md-4'><div className='card p-3'><h5>Chart of Accounts</h5>{d.accounts.map((a:any)=><div key={a._id}>{a.code} {a.name}</div>)}</div></div><div className='col-md-8'><div className='card p-3'><h5>General Ledger</h5><table className='table'><thead><tr><th>Memo</th><th>D</th><th>C</th><th></th></tr></thead><tbody>{d.entries.map((e:any)=><tr key={e._id}><td>{e.memo}</td><td>{e.debit}</td><td>{e.credit}</td><td><button className='btn btn-sm btn-warning' onClick={async()=>{await http.post(`/accounting/reverse/${e._id}`); load();}}>Reverse</button></td></tr>)}</tbody></table></div></div></div>}
