import { useEffect,useState } from 'react';import { http } from '../api/http';
export default function CreateOrderPage(){const [c,sc]=useState<any[]>([]);const [i,si]=useState<any[]>([]);const [f,sf]=useState({customerId:'',itemId:'',qty:1,channel:'phone'});const [m,sm]=useState(''); useEffect(()=>{http.get('/customers').then(r=>sc(r.data.data));http.get('/inventory/items').then(r=>si(r.data.data));},[]); return <div className='card p-3'><h4>Create Order</h4><select className='form-select mb-2' onChange={e=>sf({...f,customerId:e.target.value})}><option>Customer</option>{c.map(x=><option key={x._id} value={x._id}>{x.name}</option>)}</select><select className='form-select mb-2' onChange={e=>sf({...f,itemId:e.target.value})}><option>Item</option>{i.map(x=><option key={x._id} value={x._id}>{x.name}</option>)}</select><input type='number' className='form-control mb-2' value={f.qty} onChange={e=>sf({...f,qty:Number(e.target.value)})}/><button className='btn btn-primary' onClick={async()=>{const r=await http.post('/orders',f); sm(r.data.data.trackingNo);}}>Create</button>{m&&<div>Created tracking: {m}</div>}</div>}
